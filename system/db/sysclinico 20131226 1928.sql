-- Script was generated by Devart dbForge Studio for MySQL, Version 4.50.285.0
-- Script date 26/12/2013 07:29:57 p. m.
-- Server version: 5.6.12-log
-- Client version: 4.1

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
-- Definition for database sysclinico
--
DROP DATABASE IF EXISTS sysclinico;
CREATE DATABASE IF NOT EXISTS sysclinico
	CHARACTER SET latin1
	COLLATE latin1_swedish_ci;

-- 
-- Set default database
--
USE sysclinico;

--
-- Definition for table tb_departamento
--
CREATE TABLE IF NOT EXISTS tb_departamento (
  departamentoid INT(11) NOT NULL AUTO_INCREMENT,
  nombre VARCHAR(30) NOT NULL,
  PRIMARY KEY (departamentoid)
)
ENGINE = INNODB
AUTO_INCREMENT = 2
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table tb_estadocivil
--
CREATE TABLE IF NOT EXISTS tb_estadocivil (
  estadocivilid INT(11) NOT NULL AUTO_INCREMENT,
  nombre VARCHAR(12) DEFAULT NULL,
  PRIMARY KEY (estadocivilid)
)
ENGINE = INNODB
AUTO_INCREMENT = 5
AVG_ROW_LENGTH = 4096
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table tb_paciente
--
CREATE TABLE IF NOT EXISTS tb_paciente (
  pacienteid INT(11) NOT NULL AUTO_INCREMENT,
  nombre VARCHAR(30) NOT NULL,
  apepaterno VARCHAR(30) NOT NULL,
  apematerno VARCHAR(30) NOT NULL,
  nomcompleto VARCHAR(200) DEFAULT NULL,
  estadcivil CHAR(1) NOT NULL,
  edad DECIMAL(2, 0) NOT NULL,
  ocupacion VARCHAR(50) DEFAULT NULL,
  lugarnac VARCHAR(50) DEFAULT NULL,
  lugarproc VARCHAR(30) DEFAULT NULL,
  domicilio CHAR(150) DEFAULT NULL,
  telefono DECIMAL(10, 0) DEFAULT NULL,
  estado CHAR(1) NOT NULL,
  PRIMARY KEY (pacienteid)
)
ENGINE = INNODB
AUTO_INCREMENT = 11
AVG_ROW_LENGTH = 4096
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table tb_historiaclinica
--
CREATE TABLE IF NOT EXISTS tb_historiaclinica (
  historiaclinicaid INT(11) NOT NULL AUTO_INCREMENT,
  medicos VARCHAR(150) DEFAULT NULL,
  quirurgicos VARCHAR(200) DEFAULT NULL,
  alergicos VARCHAR(200) DEFAULT NULL,
  fur VARCHAR(100) DEFAULT NULL,
  menarquia VARCHAR(100) DEFAULT NULL,
  rs VARCHAR(100) DEFAULT NULL,
  rc VARCHAR(100) DEFAULT NULL,
  g DECIMAL(3, 0) DEFAULT NULL,
  p DECIMAL(3, 0) DEFAULT NULL,
  ma VARCHAR(100) DEFAULT NULL,
  hospitalizacion VARCHAR(200) DEFAULT NULL,
  habitosnocivos VARCHAR(200) DEFAULT NULL,
  pacienteid INT(11) DEFAULT NULL,
  PRIMARY KEY (historiaclinicaid),
  UNIQUE INDEX pacienteid (pacienteid),
  CONSTRAINT FK_tb_historiaclinica_tb_paciente_pacienteid FOREIGN KEY (pacienteid)
    REFERENCES tb_paciente(pacienteid)
)
ENGINE = INNODB
AUTO_INCREMENT = 7
AVG_ROW_LENGTH = 4096
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table tb_provincia
--
CREATE TABLE IF NOT EXISTS tb_provincia (
  provinciaid INT(11) NOT NULL AUTO_INCREMENT,
  nombre VARCHAR(30) NOT NULL,
  departamentoid INT(11) NOT NULL,
  PRIMARY KEY (provinciaid),
  INDEX FK_tb_provincia_tb_departamento_departamentoid (departamentoid),
  CONSTRAINT FK_tb_provincia_tb_departamento_departamentoid FOREIGN KEY (departamentoid)
    REFERENCES tb_departamento(departamentoid)
)
ENGINE = INNODB
AUTO_INCREMENT = 2
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table tb_diagnostico
--
CREATE TABLE IF NOT EXISTS tb_diagnostico (
  diagnosticoid INT(11) NOT NULL AUTO_INCREMENT,
  fecha DATE DEFAULT NULL,
  tiemenferm VARCHAR(30) NOT NULL,
  sp VARCHAR(30) DEFAULT NULL,
  relato TEXT DEFAULT NULL,
  fc VARCHAR(20) DEFAULT NULL,
  pa VARCHAR(20) DEFAULT NULL,
  fr VARCHAR(10) DEFAULT NULL,
  temperatura CHAR(2) DEFAULT NULL,
  peso DECIMAL(3, 0) DEFAULT NULL,
  cabeza VARCHAR(10) DEFAULT NULL,
  cuello VARCHAR(10) DEFAULT NULL,
  toraxpulmones VARCHAR(10) DEFAULT NULL,
  cardiovascular VARCHAR(5) DEFAULT NULL,
  abdomen TEXT DEFAULT NULL,
  genitourinario TEXT DEFAULT NULL,
  locomotor VARCHAR(10) DEFAULT NULL,
  neurologico VARCHAR(10) DEFAULT NULL,
  dx1 VARCHAR(50) DEFAULT NULL,
  dx2 VARCHAR(50) DEFAULT NULL,
  dx3 VARCHAR(50) DEFAULT NULL,
  dx4 VARCHAR(50) DEFAULT NULL,
  tratamiento1 VARCHAR(50) DEFAULT NULL,
  tratamiento2 VARCHAR(50) DEFAULT NULL,
  tratamiento3 VARCHAR(50) DEFAULT NULL,
  tratamiento4 VARCHAR(50) DEFAULT NULL,
  exauxiliares TEXT DEFAULT NULL,
  historiaclinicaid INT(11) NOT NULL,
  PRIMARY KEY (diagnosticoid),
  INDEX FK_tb_diagnostico_tb_historiaclinica_historiaclinicaid (historiaclinicaid),
  CONSTRAINT FK_tb_diagnostico_tb_historiaclinica_historiaclinicaid FOREIGN KEY (historiaclinicaid)
    REFERENCES tb_historiaclinica(historiaclinicaid)
)
ENGINE = INNODB
AUTO_INCREMENT = 31
AVG_ROW_LENGTH = 1638
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table tb_distrito
--
CREATE TABLE IF NOT EXISTS tb_distrito (
  distritoid INT(11) NOT NULL AUTO_INCREMENT,
  nombre VARCHAR(30) NOT NULL,
  provinciaid INT(11) NOT NULL,
  PRIMARY KEY (distritoid),
  INDEX FK_tb_distrito_tb_provincia_provinciaid (provinciaid),
  CONSTRAINT FK_tb_distrito_tb_provincia_provinciaid FOREIGN KEY (provinciaid)
    REFERENCES tb_provincia(provinciaid)
)
ENGINE = INNODB
AUTO_INCREMENT = 2
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table tb_informe
--
CREATE TABLE IF NOT EXISTS tb_informe (
  informeid INT(11) NOT NULL AUTO_INCREMENT,
  ruta VARCHAR(30) NOT NULL,
  nombre VARCHAR(100) NOT NULL,
  tipo VARCHAR(15) DEFAULT NULL,
  historiaclinicaid INT(11) NOT NULL,
  PRIMARY KEY (informeid),
  INDEX FK_tb_informe_tb_historiaclinica_historiaclinicaid (historiaclinicaid),
  CONSTRAINT FK_tb_informe_tb_historiaclinica_historiaclinicaid FOREIGN KEY (historiaclinicaid)
    REFERENCES tb_historiaclinica(historiaclinicaid)
)
ENGINE = INNODB
AUTO_INCREMENT = 19
AVG_ROW_LENGTH = 4096
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table tb_persona
--
CREATE TABLE IF NOT EXISTS tb_persona (
  personaid INT(11) NOT NULL AUTO_INCREMENT,
  nombres VARCHAR(50) DEFAULT NULL,
  apepaterno VARCHAR(30) NOT NULL,
  apematerno VARCHAR(30) NOT NULL,
  nombcompleto VARCHAR(50) DEFAULT NULL,
  fechnacimiento DATE NOT NULL,
  domicilio VARCHAR(100) DEFAULT NULL,
  telefono DECIMAL(10, 0) DEFAULT NULL,
  dni VARCHAR(8) NOT NULL,
  distritoid INT(11) NOT NULL,
  estadocivilid INT(11) NOT NULL,
  PRIMARY KEY (personaid),
  INDEX FK_tb_persona_tb_distrito_distritoid (distritoid),
  INDEX FK_tb_persona_tb_estadocivil_estadocivilid (estadocivilid),
  CONSTRAINT FK_tb_persona_tb_distrito_distritoid FOREIGN KEY (distritoid)
    REFERENCES tb_distrito(distritoid),
  CONSTRAINT FK_tb_persona_tb_estadocivil_estadocivilid FOREIGN KEY (estadocivilid)
    REFERENCES tb_estadocivil(estadocivilid)
)
ENGINE = INNODB
AUTO_INCREMENT = 22
AVG_ROW_LENGTH = 2340
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table tb_medico
--
CREATE TABLE IF NOT EXISTS tb_medico (
  medicoid INT(11) NOT NULL AUTO_INCREMENT,
  personaid INT(11) NOT NULL,
  especialidad VARCHAR(100) DEFAULT NULL,
  PRIMARY KEY (medicoid),
  UNIQUE INDEX personaid (personaid),
  CONSTRAINT FK_tb_medico_tb_persona_personaid FOREIGN KEY (personaid)
    REFERENCES tb_persona(personaid)
)
ENGINE = INNODB
AUTO_INCREMENT = 13
AVG_ROW_LENGTH = 4096
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table tb_secretaria
--
CREATE TABLE IF NOT EXISTS tb_secretaria (
  secretariaid INT(11) NOT NULL AUTO_INCREMENT,
  personaid INT(11) NOT NULL,
  PRIMARY KEY (secretariaid),
  UNIQUE INDEX personaid (personaid),
  CONSTRAINT FK_tb_secretaria_tb_persona_personaid FOREIGN KEY (personaid)
    REFERENCES tb_persona(personaid)
)
ENGINE = INNODB
AUTO_INCREMENT = 4
AVG_ROW_LENGTH = 8192
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table tb_usuario
--
CREATE TABLE IF NOT EXISTS tb_usuario (
  usuarioid INT(11) NOT NULL AUTO_INCREMENT,
  usuario VARCHAR(100) NOT NULL,
  contrasenia VARCHAR(100) DEFAULT NULL,
  tipousuario VARCHAR(20) NOT NULL,
  personaid INT(11) NOT NULL,
  PRIMARY KEY (usuarioid),
  UNIQUE INDEX personaid (personaid),
  CONSTRAINT FK_tb_usuario_tb_persona_personaid FOREIGN KEY (personaid)
    REFERENCES tb_persona(personaid)
)
ENGINE = INNODB
AUTO_INCREMENT = 7
AVG_ROW_LENGTH = 5461
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

--
-- Definition for table tb_cita
--
CREATE TABLE IF NOT EXISTS tb_cita (
  citaid INT(11) NOT NULL AUTO_INCREMENT,
  especialidad VARCHAR(50) NOT NULL,
  tipocita CHAR(1) NOT NULL,
  fecha DATE NOT NULL,
  horainicio TIME NOT NULL,
  horafin TIME NOT NULL,
  secretariaid INT(11) NOT NULL,
  pacienteid INT(11) NOT NULL,
  medicoid INT(11) DEFAULT NULL,
  PRIMARY KEY (citaid),
  INDEX FK_tb_cita_tb_medico_medicoid (medicoid),
  INDEX FK_tb_cita_tb_paciente_pacienteid (pacienteid),
  INDEX FK_tb_cita_tb_secretaria_secretariaid (secretariaid),
  CONSTRAINT FK_tb_cita_tb_medico_medicoid FOREIGN KEY (medicoid)
    REFERENCES tb_medico(medicoid),
  CONSTRAINT FK_tb_cita_tb_paciente_pacienteid FOREIGN KEY (pacienteid)
    REFERENCES tb_paciente(pacienteid),
  CONSTRAINT FK_tb_cita_tb_secretaria_secretariaid FOREIGN KEY (secretariaid)
    REFERENCES tb_secretaria(secretariaid)
)
ENGINE = INNODB
AUTO_INCREMENT = 31
AVG_ROW_LENGTH = 1489
CHARACTER SET latin1
COLLATE latin1_swedish_ci;

-- 
-- Dumping data for table tb_departamento
--
INSERT INTO tb_departamento VALUES 
  (1, 'Lima');

-- 
-- Dumping data for table tb_estadocivil
--
INSERT INTO tb_estadocivil VALUES 
  (1, 'soltero'),
  (2, 'casado'),
  (3, 'viudo'),
  (4, 'divorciado');

-- 
-- Dumping data for table tb_paciente
--
INSERT INTO tb_paciente VALUES 
  (7, 'jorge luis', 'torres', 'colan', 'jorge luis torres colan', 'C', 20, 'estudiante', 'Lima', 'Huaral', 'la huaquilla', 996514952, 'A'),
  (8, 'jeair alberto', 'cangana', 'retuerto', 'jeair alberto cangana retuerto', 'S', 21, 'estudiante', 'Chancay', 'Chancay', 'chancay', 980163759, 'A'),
  (9, 'Edson Andre', 'Donayre', 'Uchuya', 'Edson Andre Donayre Uchuya', 'S', 21, 'estudiante', 'Chancay', 'Chancay', 'chancay', 980163759, 'A'),
  (10, 'jajaj', 'faf', 'fdsf', 'jajaj faf fdsf', 'C', 21, 'estudiante', 'Chancay', 'Chancay', 'chancay', 996514952, 'A');

-- 
-- Dumping data for table tb_historiaclinica
--
INSERT INTO tb_historiaclinica VALUES 
  (3, 'carlos', 'carlos', 'polvo', 'ggg', 'gg', 'g', 'g', 1, 1, 'g', 'ninguna', 'ninguno', 7),
  (4, 'carlos', 'carlos', 'polvo', 'ggg', 'gg', 'g', 'g', 1, 1, 'g', 'ninguno', 'ninguno', 8),
  (5, 'carlos', 'carlos', 'polvo', 'ggg', 'gg', 'g', 'g', 1, 1, 'g', 'ninguno', 'ninguno', 9),
  (6, 'carlos', 'carlos', 'ggg', 'ggg', 'gg', 'g', 'g', 1, 1, 'bb', 'ninguna', 'bbb', 10);

-- 
-- Dumping data for table tb_provincia
--
INSERT INTO tb_provincia VALUES 
  (1, 'huaral', 1);

-- 
-- Dumping data for table tb_diagnostico
--
INSERT INTO tb_diagnostico VALUES 
  (4, '2013-11-13', '4 meses', '', 'Dolor de estomago muy seguido', '72', '60/80', '22', '37', 60, '', '', '', '', '', '', ' ', ' ', 'medicacion', 'medicacion', 'medicacion', 'medicacion', 'medicacion', 'medicacion', 'medicacion', 'medicacion', 'ninguno', 3),
  (5, '2013-11-05', '10 meses', '', 'Dolor de estomago muy seguido', '72', '60/80', '22', '37', 60, '', '', '', '', '', '', '', '', 'medicacion', 'medicacion', 'medicacion', 'medicacion', 'medicacion', 'medicacion', 'medicacion', 'medicacion', 'ninguno', 3),
  (23, '2013-12-03', '8 meses', '', 'dolor de cadera intenso', '', '', '', '', 0, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'ninguno', 3),
  (24, '2013-12-13', '6 meses', 'ninguno', 'le duele todo de todo', '', '', '', '', 0, '', '', '', '', '', '', ' ', ' ', '   ', '   ', '   ', '   ', '   ', '   ', '   ', '   ', 'ninguno', 3),
  (25, '2013-12-13', '6 meses', 'ninguno', 'dolor de huesos', '', '', '', '', 0, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'ninguno', 5),
  (26, '2013-12-21', '6 meses', 'ninguno', 'dolor de espalda', '', '', '', '', 0, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'ninguno', 5),
  (27, '2013-12-21', '8 meses', 'ninguno', 'dolor de pansita', '', '', '', '', 0, '', '', '', '', '', '', ' ', ' ', '   ', '   ', '   ', '   ', '   ', '   ', '   ', '   ', 'ninguno', 3),
  (28, '2013-12-31', '8 meses', 'ninguno', 'dolor de estomago', '', '', '', '', 0, '', '', '', '', '', '', ' ', ' ', '   ', '   ', '   ', '   ', '   ', '   ', '   ', '   ', 'ninguno', 3),
  (29, '2013-12-30', '10 meses', 'ninguno', 'ninguno', '', '', '', '', 0, '', '', '', '', '', '', ' ', ' ', '   ', '   ', '   ', '   ', '   ', '   ', '   ', '   ', 'ninguno', 5),
  (30, '2013-12-11', 'ninguno', 'ninguno', 'dolor de todo', '', '', '', '', 0, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'ninguno', 3);

-- 
-- Dumping data for table tb_distrito
--
INSERT INTO tb_distrito VALUES 
  (1, 'huaral', 1);

-- 
-- Dumping data for table tb_informe
--
INSERT INTO tb_informe VALUES 
  (15, 'C:/wamp/www/appclinica/uploads', 'FormatoGestion', '.doc', 3),
  (16, 'C:/wamp/www/appclinica/uploads', 'GestionRequerimientos', '.doc', 3),
  (17, 'C:/wamp/www/appclinica/uploads', 'Plan_de_Proyecto_(1)', '.docx', 3),
  (18, 'C:/wamp/www/appclinica/uploads', 'Universidad_Nacional', '.docx', 6);

-- 
-- Dumping data for table tb_persona
--
INSERT INTO tb_persona VALUES 
  (14, 'jorge luis', 'torres', 'colan', 'jorge luis torres', '1992-07-31', 'psje Pedro Ruiz Gallo', 980163759, '47351152', 1, 1),
  (15, 'Luis Javier', 'Chavez', 'Maita', 'Luis Javier Chavez', '1992-01-22', 'Urb. Las Brisas', 980163759, '12345678', 1, 2),
  (16, 'Deivie Jesus', 'Marzano', 'Narcizo', 'Deivie Jesus Marzano', '1992-02-19', 'Barranca', 980163759, '40204020', 1, 3),
  (17, 'fiorella caroline', 'llontop', 'machagua', 'fiorella caroline llontop', '1992-03-27', 'AV. Jorge Chavez', 980163759, '12345678', 1, 1),
  (18, 'Andrea Lisset', 'Vega', 'Huapalla', 'Andrea Lisset Vega', '1992-10-11', 'Retes', 980163759, '12345678', 1, 1),
  (19, 'Roberto Carlos', 'Perez', 'Ramirez', 'Roberto Carlos Perez', '1988-07-06', 'Huaral', 996514952, '14942936', 1, 1),
  (20, 'Juan Gabriel', 'Gonzales', 'Santos', 'Juan Gabriel Gonzales', '1980-01-16', 'Lima', 996514952, '15952533', 1, 1),
  (21, 'Luis Alejandro', 'Perez', 'Susanibar', 'Luis Alejandro Perez', '1965-03-11', 'Huacho', 995678967, '45678903', 1, 2);

-- 
-- Dumping data for table tb_medico
--
INSERT INTO tb_medico VALUES 
  (8, 15, 'Medicina General'),
  (9, 16, 'Traumatologia'),
  (10, 19, 'Neumologia'),
  (11, 20, 'Medicina General'),
  (12, 21, 'Cirugia');

-- 
-- Dumping data for table tb_secretaria
--
INSERT INTO tb_secretaria VALUES 
  (2, 17),
  (3, 18);

-- 
-- Dumping data for table tb_usuario
--
INSERT INTO tb_usuario VALUES 
  (4, 'jtorres', 'jorgeluis', 'administrador', 14),
  (5, 'luis', '12345', 'medico', 15),
  (6, 'fiorella', '12345', 'secretaria', 17);

-- 
-- Dumping data for table tb_cita
--
INSERT INTO tb_cita VALUES 
  (1, 'Medicina General', 'P', '2013-12-26', '16:30:00', '15:30:00', 2, 7, 8),
  (2, 'Medicina General', 'P', '2013-12-18', '10:30:00', '11:30:00', 2, 9, 8),
  (22, 'Medicina General', 'P', '2013-12-19', '14:00:00', '14:30:00', 2, 8, 8),
  (23, 'Traumatologia', 'P', '2013-12-21', '09:00:00', '09:30:00', 2, 9, 9),
  (24, 'Traumatologia', 'P', '2013-12-24', '13:30:00', '14:00:00', 2, 7, 9),
  (25, 'Traumatologia', 'P', '2013-12-27', '16:00:00', '16:40:00', 2, 8, 9),
  (26, 'Traumatologia', 'P', '2013-12-28', '13:15:00', '13:30:00', 2, 8, 9),
  (27, 'Cirugia', 'P', '2013-12-25', '17:10:00', '17:40:00', 2, 9, 12),
  (28, 'Traumatologia', 'P', '2013-12-25', '13:40:00', '14:00:00', 2, 7, 9),
  (29, 'Traumatologia', 'P', '2013-12-25', '18:00:00', '18:30:00', 2, 8, 9),
  (30, 'Traumatologia', 'P', '2013-12-31', '15:00:00', '15:30:00', 2, 8, 9);

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;